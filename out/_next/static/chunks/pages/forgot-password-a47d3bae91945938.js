(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{448:(e,s,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return i(9898)}])},4613:(e,s,i)=>{"use strict";i.d(s,{N:()=>a});let a=(0,i(166).UU)("https://gllqzajfkkvpwnyultiy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdsbHF6YWpma2t2cHdueXVsdGl5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwODczNjcsImV4cCI6MjA3NDY2MzM2N30.B5gXCuB2XCpT11W6unXPhFC2WX-2TsPsJA7PA32qK8E")},9898:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>o});var a=i(7876),r=i(4232),l=i(9099),t=i(8230),n=i.n(t),c=i(4613);function o(){let[e,s]=(0,r.useState)(""),[i,t]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),[u,m]=(0,r.useState)("");(0,l.useRouter)();let h=async s=>{s.preventDefault(),t(!0),d(""),m("");let{data:i}=await c.N.from("members").select("email, nom, prenom").eq("email",e.toLowerCase()).single();if(!i){d("Cette adresse email n'est pas associ\xe9e \xe0 un membre enregistr\xe9."),t(!1);return}try{let{error:s}=await c.N.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")});if(s)throw s;m("Un email de r\xe9initialisation a \xe9t\xe9 envoy\xe9 \xe0 ".concat(e,". ")+"V\xe9rifiez votre bo\xeete de r\xe9ception et cliquez sur le lien pour r\xe9initialiser votre mot de passe.")}catch(e){d("Erreur lors de l'envoi de l'email : "+e.message)}t(!1)};return(0,a.jsx)("div",{className:"auth-container",children:(0,a.jsxs)("div",{className:"auth-card",children:[(0,a.jsxs)("div",{className:"auth-header",children:[(0,a.jsx)("h1",{children:"\uD83D\uDD11 Mot de passe oubli\xe9"}),(0,a.jsx)("p",{children:"Saisissez votre adresse email pour recevoir un lien de r\xe9initialisation"})]}),o&&(0,a.jsx)("div",{className:"alert alert-error",children:(0,a.jsxs)("span",{children:["⚠️ ",o]})}),u&&(0,a.jsx)("div",{className:"alert alert-success",children:(0,a.jsxs)("span",{children:["✅ ",u]})}),!u&&(0,a.jsxs)("form",{onSubmit:h,className:"auth-form",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"email",children:"Adresse email"}),(0,a.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>s(e.target.value),placeholder:"votre@email.com",required:!0,disabled:i}),(0,a.jsx)("small",{children:"Utilisez l'email associ\xe9 \xe0 votre compte membre"})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary btn-full",disabled:i,children:i?"\uD83D\uDCE7 Envoi en cours...":"\uD83D\uDCE7 Envoyer le lien"})]}),(0,a.jsx)("div",{className:"auth-footer",children:(0,a.jsxs)("div",{className:"auth-links",children:[(0,a.jsx)(n(),{href:"/login",className:"link-secondary",children:"← Retour \xe0 la connexion"}),(0,a.jsx)(n(),{href:"/",className:"link-secondary",children:"Accueil"})]})})]})})}}},e=>{e.O(0,[166,8,636,593,792],()=>e(e.s=448)),_N_E=e.O()}]);