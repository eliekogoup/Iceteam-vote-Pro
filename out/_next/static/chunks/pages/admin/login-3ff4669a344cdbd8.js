(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{644:(e,i,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return t(2748)}])},2748:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>d});var s=t(7876),n=t(4232),a=t(9099),r=t(4613);function d(){let e=(0,a.useRouter)(),[i,t]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[o,l]=(0,n.useState)(""),m=async t=>{t.preventDefault(),l("");let{data:s,error:n}=await r.N.auth.signInWithPassword({email:i,password:d});if(n||!s.user)return void l("Identifiants incorrects.");let{data:a,error:u}=await r.N.from("members").select("is_admin").eq("user_id",s.user.id).single();if(u||!(null==a?void 0:a.is_admin))return void l("Vous n'\xeates pas administrateur.");sessionStorage.setItem("isAdmin","1"),sessionStorage.setItem("adminEmail",i),e.push("/admin")};return(0,s.jsxs)("div",{style:{padding:32,maxWidth:400,margin:"auto"},children:[(0,s.jsx)("h1",{children:"Connexion Administration"}),(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsx)("input",{type:"email",placeholder:"Email administrateur",value:i,onChange:e=>t(e.target.value),required:!0,style:{fontSize:18,padding:10,width:"100%",marginBottom:12}}),(0,s.jsx)("input",{type:"password",placeholder:"Mot de passe",value:d,onChange:e=>u(e.target.value),required:!0,style:{fontSize:18,padding:10,width:"100%"}}),(0,s.jsx)("button",{type:"submit",style:{marginTop:16,width:"100%"},children:"Connexion"}),o&&(0,s.jsx)("div",{style:{color:"red",marginTop:10},children:o})]})]})}},4613:(e,i,t)=>{"use strict";t.d(i,{N:()=>s});let s=(0,t(166).UU)("https://gllqzajfkkvpwnyultiy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdsbHF6YWpma2t2cHdueXVsdGl5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwODczNjcsImV4cCI6MjA3NDY2MzM2N30.B5gXCuB2XCpT11W6unXPhFC2WX-2TsPsJA7PA32qK8E")},9099:(e,i,t)=>{e.exports=t(6296)}},e=>{e.O(0,[166,636,593,792],()=>e(e.s=644)),_N_E=e.O()}]);